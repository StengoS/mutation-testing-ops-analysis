<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Stats.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">pamvotis</a> &gt; <a href="index.source.html" class="el_package">pamvotis.intf</a> &gt; <span class="el_source">Stats.java</span></div><h1>Stats.java</h1><pre class="source lang-java linenums">package pamvotis.intf;
import java.awt.Dimension;
import java.awt.Font;
import java.awt.Point;
import java.awt.Rectangle;
import java.awt.SystemColor;
import java.awt.Toolkit;
import java.io.File;
import java.net.URL;

import javax.swing.BorderFactory;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.border.TitledBorder;

public class Stats extends JFrame {
	
<span class="nc" id="L22">	private Pamvotis pm=null;</span>
<span class="nc" id="L23">	private MakeNtConf mk = null;</span>
<span class="nc" id="L24">	private String tmpStr = &quot;_&quot;;</span>
	private static final long serialVersionUID = 1L;
<span class="nc" id="L26">	private JPanel jContentPane = null;</span>
<span class="nc" id="L27">	private JLabel jLblPict = null;</span>
<span class="nc" id="L28">	private JCheckBox jChkThrBt = null;</span>
<span class="nc" id="L29">	private JCheckBox jChkThrPkt = null;</span>
<span class="nc" id="L30">	private JCheckBox jChkMean = null;</span>
<span class="nc" id="L31">	private JCheckBox jChkUtil = null;</span>
<span class="nc" id="L32">	private JCheckBox jChkMdel = null;</span>
<span class="nc" id="L33">	private JCheckBox jChkQDel = null;</span>
<span class="nc" id="L34">	private JCheckBox jChkTDel = null;</span>
<span class="nc" id="L35">	private JCheckBox jChkJit = null;</span>
<span class="nc" id="L36">	private JCheckBox jChkQlngth = null;</span>
<span class="nc" id="L37">	private JCheckBox jChkRatts = null;</span>
<span class="nc" id="L38">	private JButton jBtOK = null;</span>
<span class="nc" id="L39">	private JButton jBtCancel = null;</span>
<span class="nc" id="L40">	private JPanel jPanel = null;</span>

	public Stats(Pamvotis pmarg, MakeNtConf mkarg) {
<span class="nc" id="L43">		super();</span>
<span class="nc" id="L44">		pm=pmarg;</span>
<span class="nc" id="L45">		mk = mkarg;</span>
<span class="nc" id="L46">		initialize();</span>
<span class="nc" id="L47">	}</span>

	private void initialize() {
<span class="nc" id="L50">		Dimension d = Toolkit.getDefaultToolkit().getScreenSize();</span>
<span class="nc" id="L51">		this.setSize(423, 354);</span>
<span class="nc" id="L52">		URL iconURL = getClass().getResource(&quot;/resources&quot; + File.separator + &quot;icons&quot;+File.separator+&quot;logo.jpg&quot;);</span>
<span class="nc" id="L53">		this.setIconImage(Toolkit.getDefaultToolkit().getImage(iconURL));</span>
<span class="nc" id="L54">		this.setResizable(false);</span>
<span class="nc" id="L55">		this.setLocation(new Point((d.width-this.getSize().width)/2, (d.height-this.getSize().height)/2));</span>
<span class="nc" id="L56">		this.setContentPane(getJContentPane());</span>
<span class="nc" id="L57">		this.setTitle(&quot;Pamvotis - Statistics Configuration&quot;);</span>
		//Listener for the X button
<span class="nc" id="L59">		this.addWindowListener(new java.awt.event.WindowAdapter() {</span>
			public void windowClosing(java.awt.event.WindowEvent e) {
<span class="nc" id="L61">				getInitParams(); //Set the values that the window had when it was opened</span>
<span class="nc" id="L62">				Stats.this.setVisible(false); //Close the window</span>
<span class="nc" id="L63">				pm.setEnabled(true); //Open the parent window</span>
<span class="nc" id="L64">				pm.setVisible(true); //Added because otherwise the parent window opens minimized</span>
<span class="nc" id="L65">			}</span>
		});
<span class="nc" id="L67">	}</span>

	private JPanel getJContentPane() {
<span class="nc bnc" id="L70" title="All 2 branches missed.">		if (jContentPane == null) {</span>
<span class="nc" id="L71">			jLblPict = new JLabel();</span>
<span class="nc" id="L72">			jLblPict.setBounds(new Rectangle(78, 12, 233, 63));</span>
<span class="nc" id="L73">			jLblPict.setText(&quot;&quot;);</span>
<span class="nc" id="L74">			URL iconURL = getClass().getResource(&quot;/resources&quot; + File.separator + &quot;icons&quot;+File.separator+&quot;stats.jpg&quot;);</span>
<span class="nc" id="L75">			jLblPict.setIcon(new ImageIcon(iconURL));</span>
<span class="nc" id="L76">			jContentPane = new JPanel();</span>
<span class="nc" id="L77">			jContentPane.setLayout(null);</span>
<span class="nc" id="L78">			jContentPane.add(jLblPict, null);</span>
<span class="nc" id="L79">			jContentPane.add(getJBtOK(), null);</span>
<span class="nc" id="L80">			jContentPane.add(getJBtCancel(), null);</span>
<span class="nc" id="L81">			jContentPane.add(getJPanel(), null);</span>
		}
<span class="nc" id="L83">		return jContentPane;</span>
	}

	private JCheckBox getJChkThrBt() {
<span class="nc bnc" id="L87" title="All 2 branches missed.">		if (jChkThrBt == null) {</span>
<span class="nc" id="L88">			jChkThrBt = new JCheckBox();</span>
<span class="nc" id="L89">			jChkThrBt.setText(&quot;Throughput (Kb/s)&quot;);</span>
<span class="nc" id="L90">			jChkThrBt.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L91">			jChkThrBt.setBounds(new Rectangle(13, 60, 169, 20));</span>
		}
<span class="nc" id="L93">		return jChkThrBt;</span>
	}

	private JCheckBox getJChkThrPkt() {
<span class="nc bnc" id="L97" title="All 2 branches missed.">		if (jChkThrPkt == null) {</span>
<span class="nc" id="L98">			jChkThrPkt = new JCheckBox();</span>
<span class="nc" id="L99">			jChkThrPkt.setText(&quot;Throughput (pkts/s)&quot;);</span>
<span class="nc" id="L100">			jChkThrPkt.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L101">			jChkThrPkt.setBounds(new Rectangle(13, 90, 166, 21));</span>
		}
<span class="nc" id="L103">		return jChkThrPkt;</span>
	}

	private JCheckBox getJChkMean() {
<span class="nc bnc" id="L107" title="All 2 branches missed.">		if (jChkMean == null) {</span>
<span class="nc" id="L108">			jChkMean = new JCheckBox();</span>
<span class="nc" id="L109">			jChkMean.setEnabled(false);</span>
<span class="nc" id="L110">			jChkMean.setSelected(true);</span>
<span class="nc" id="L111">			jChkMean.setBounds(new Rectangle(13, 30, 105, 23));</span>
<span class="nc" id="L112">			jChkMean.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L113">			jChkMean.setText(&quot;Mean Values&quot;);</span>
		}
<span class="nc" id="L115">		return jChkMean;</span>
	}

	private JCheckBox getJChkUtil() {
<span class="nc bnc" id="L119" title="All 2 branches missed.">		if (jChkUtil == null) {</span>
<span class="nc" id="L120">			jChkUtil = new JCheckBox();</span>
<span class="nc" id="L121">			jChkUtil.setText(&quot;Utilization&quot;);</span>
<span class="nc" id="L122">			jChkUtil.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L123">			jChkUtil.setBounds(new Rectangle(13, 120, 129, 26));</span>
		}
<span class="nc" id="L125">		return jChkUtil;</span>
	}

	private JCheckBox getJChkMdel() {
<span class="nc bnc" id="L129" title="All 2 branches missed.">		if (jChkMdel == null) {</span>
<span class="nc" id="L130">			jChkMdel = new JCheckBox();</span>
<span class="nc" id="L131">			jChkMdel.setText(&quot;Media Access Delay (ms)&quot;);</span>
<span class="nc" id="L132">			jChkMdel.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L133">			jChkMdel.setBounds(new Rectangle(13, 150, 170, 26));</span>
		}
<span class="nc" id="L135">		return jChkMdel;</span>
	}

	private JCheckBox getJChkQDel() {
<span class="nc bnc" id="L139" title="All 2 branches missed.">		if (jChkQDel == null) {</span>
<span class="nc" id="L140">			jChkQDel = new JCheckBox();</span>
<span class="nc" id="L141">			jChkQDel.setText(&quot;Queuing Delay (ms)&quot;);</span>
<span class="nc" id="L142">			jChkQDel.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L143">			jChkQDel.setBounds(new Rectangle(198, 29, 157, 31));</span>
		}
<span class="nc" id="L145">		return jChkQDel;</span>
	}

	private JCheckBox getJChkTDel() {
<span class="nc bnc" id="L149" title="All 2 branches missed.">		if (jChkTDel == null) {</span>
<span class="nc" id="L150">			jChkTDel = new JCheckBox();</span>
<span class="nc" id="L151">			jChkTDel.setText(&quot;Total Packet Delay (ms)&quot;);</span>
<span class="nc" id="L152">			jChkTDel.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L153">			jChkTDel.setBounds(new Rectangle(198, 60, 163, 28));</span>
		}
<span class="nc" id="L155">		return jChkTDel;</span>
	}

	private JCheckBox getJChkJit() {
<span class="nc bnc" id="L159" title="All 2 branches missed.">		if (jChkJit == null) {</span>
<span class="nc" id="L160">			jChkJit = new JCheckBox();</span>
<span class="nc" id="L161">			jChkJit.setText(&quot;Delay Jitter (ms)&quot;);</span>
<span class="nc" id="L162">			jChkJit.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L163">			jChkJit.setBounds(new Rectangle(198, 90, 146, 29));</span>
		}
<span class="nc" id="L165">		return jChkJit;</span>
	}

	private JCheckBox getJChkQlngth() {
<span class="nc bnc" id="L169" title="All 2 branches missed.">		if (jChkQlngth == null) {</span>
<span class="nc" id="L170">			jChkQlngth = new JCheckBox();</span>
<span class="nc" id="L171">			jChkQlngth.setText(&quot;Packet Queue Length&quot;);</span>
<span class="nc" id="L172">			jChkQlngth.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L173">			jChkQlngth.setBounds(new Rectangle(198, 120, 159, 25));</span>
		}
<span class="nc" id="L175">		return jChkQlngth;</span>
	}

	private JCheckBox getJChkRatts() {
<span class="nc bnc" id="L179" title="All 2 branches missed.">		if (jChkRatts == null) {</span>
<span class="nc" id="L180">			jChkRatts = new JCheckBox();</span>
<span class="nc" id="L181">			jChkRatts.setText(&quot;Retransmission Attempts&quot;);</span>
<span class="nc" id="L182">			jChkRatts.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L183">			jChkRatts.setBounds(new Rectangle(198, 150, 173, 23));</span>
		}
<span class="nc" id="L185">		return jChkRatts;</span>
	}

	private JButton getJBtOK() {
<span class="nc bnc" id="L189" title="All 2 branches missed.">		if (jBtOK == null) {</span>
<span class="nc" id="L190">			jBtOK = new JButton();</span>
<span class="nc" id="L191">			jBtOK.setBounds(new Rectangle(14, 283, 82, 21));</span>
<span class="nc" id="L192">			jBtOK.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L193">			jBtOK.setText(&quot;OK&quot;);</span>
<span class="nc" id="L194">			jBtOK.addActionListener(new java.awt.event.ActionListener() {</span>
				public void actionPerformed(java.awt.event.ActionEvent e) {
<span class="nc" id="L196">					writeToNtConf();</span>
<span class="nc" id="L197">					Stats.this.setVisible(false); //Close the window</span>
<span class="nc" id="L198">					pm.setEnabled(true); //Open the parent window</span>
<span class="nc" id="L199">					pm.setVisible(true); //Added because otherwise the parent window opens minimized</span>
<span class="nc" id="L200">				}</span>
			});
		}
<span class="nc" id="L203">		return jBtOK;</span>
	}

	private JButton getJBtCancel() {
<span class="nc bnc" id="L207" title="All 2 branches missed.">		if (jBtCancel == null) {</span>
<span class="nc" id="L208">			jBtCancel = new JButton();</span>
<span class="nc" id="L209">			jBtCancel.setBounds(new Rectangle(313, 283, 82, 21));</span>
<span class="nc" id="L210">			jBtCancel.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L211">			jBtCancel.setText(&quot;Cancel&quot;);</span>
<span class="nc" id="L212">			jBtCancel.addActionListener(new java.awt.event.ActionListener() {</span>
				public void actionPerformed(java.awt.event.ActionEvent e) {
<span class="nc" id="L214">					getInitParams(); //Set the values that the window had when it was opened</span>
<span class="nc" id="L215">					Stats.this.setVisible(false); //Close the window</span>
<span class="nc" id="L216">					pm.setEnabled(true); //Open the parent window</span>
<span class="nc" id="L217">					pm.setVisible(true); //Added because otherwise the parent window opens minimized</span>
<span class="nc" id="L218">				}</span>
			});
		}
<span class="nc" id="L221">		return jBtCancel;</span>
	}
	
	public void setInitParams(){
<span class="nc" id="L225">		tmpStr=&quot;_&quot;;</span>
<span class="nc bnc" id="L226" title="All 2 branches missed.">		if (jChkThrBt.isSelected()) tmpStr+= &quot;tb&quot;;</span>
<span class="nc bnc" id="L227" title="All 2 branches missed.">		if (jChkThrPkt.isSelected()) tmpStr+= &quot;tp&quot;;</span>
<span class="nc bnc" id="L228" title="All 2 branches missed.">		if (jChkUtil.isSelected()) tmpStr+= &quot;ut&quot;;</span>
<span class="nc bnc" id="L229" title="All 2 branches missed.">		if (jChkMdel.isSelected()) tmpStr+= &quot;md&quot;;</span>
<span class="nc bnc" id="L230" title="All 2 branches missed.">		if (jChkQDel.isSelected()) tmpStr+= &quot;qd&quot;;</span>
<span class="nc bnc" id="L231" title="All 2 branches missed.">		if (jChkTDel.isSelected()) tmpStr+= &quot;td&quot;;</span>
<span class="nc bnc" id="L232" title="All 2 branches missed.">		if (jChkJit.isSelected()) tmpStr+= &quot;dj&quot;;</span>
<span class="nc bnc" id="L233" title="All 2 branches missed.">		if (jChkQlngth.isSelected()) tmpStr+= &quot;ql&quot;;</span>
<span class="nc bnc" id="L234" title="All 2 branches missed.">		if (jChkRatts.isSelected()) tmpStr+= &quot;ra&quot;;</span>
<span class="nc" id="L235">	}</span>
	
	private void getInitParams(){
<span class="nc bnc" id="L238" title="All 2 branches missed.">		if(tmpStr.contains(&quot;tb&quot;)) jChkThrBt.setSelected(true); else jChkThrBt.setSelected(false);</span>
<span class="nc bnc" id="L239" title="All 2 branches missed.">		if(tmpStr.contains(&quot;tp&quot;)) jChkThrPkt.setSelected(true); else jChkThrPkt.setSelected(false);</span>
<span class="nc bnc" id="L240" title="All 2 branches missed.">		if(tmpStr.contains(&quot;ut&quot;)) jChkUtil.setSelected(true); else jChkUtil.setSelected(false);</span>
<span class="nc bnc" id="L241" title="All 2 branches missed.">		if(tmpStr.contains(&quot;md&quot;)) jChkMdel.setSelected(true); else jChkMdel.setSelected(false);</span>
<span class="nc bnc" id="L242" title="All 2 branches missed.">		if(tmpStr.contains(&quot;qd&quot;)) jChkQDel.setSelected(true); else jChkQDel.setSelected(false);</span>
<span class="nc bnc" id="L243" title="All 2 branches missed.">		if(tmpStr.contains(&quot;td&quot;)) jChkTDel.setSelected(true); else jChkTDel.setSelected(false);</span>
<span class="nc bnc" id="L244" title="All 2 branches missed.">		if(tmpStr.contains(&quot;dj&quot;)) jChkJit.setSelected(true); else jChkJit.setSelected(false);</span>
<span class="nc bnc" id="L245" title="All 2 branches missed.">		if(tmpStr.contains(&quot;ql&quot;)) jChkQlngth.setSelected(true); else jChkQlngth.setSelected(false);</span>
<span class="nc bnc" id="L246" title="All 2 branches missed.">		if(tmpStr.contains(&quot;ra&quot;)) jChkRatts.setSelected(true); else jChkRatts.setSelected(false);</span>
<span class="nc" id="L247">	}</span>
	
	//Passes the selected values to the arguements of the network configuration file object 
	private void writeToNtConf(){
<span class="nc" id="L251">		String str=&quot;_&quot;;</span>
<span class="nc bnc" id="L252" title="All 2 branches missed.">		if (jChkThrBt.isSelected()) str+= &quot;tb&quot;;</span>
<span class="nc bnc" id="L253" title="All 2 branches missed.">		if (jChkThrPkt.isSelected()) str+= &quot;tp&quot;;</span>
<span class="nc bnc" id="L254" title="All 2 branches missed.">		if (jChkUtil.isSelected()) str+= &quot;ut&quot;;</span>
<span class="nc bnc" id="L255" title="All 2 branches missed.">		if (jChkMdel.isSelected()) str+= &quot;md&quot;;</span>
<span class="nc bnc" id="L256" title="All 2 branches missed.">		if (jChkQDel.isSelected()) str+= &quot;qd&quot;;</span>
<span class="nc bnc" id="L257" title="All 2 branches missed.">		if (jChkTDel.isSelected()) str+= &quot;td&quot;;</span>
<span class="nc bnc" id="L258" title="All 2 branches missed.">		if (jChkJit.isSelected()) str+= &quot;dj&quot;;</span>
<span class="nc bnc" id="L259" title="All 2 branches missed.">		if (jChkQlngth.isSelected()) str+= &quot;ql&quot;;</span>
<span class="nc bnc" id="L260" title="All 2 branches missed.">		if (jChkRatts.isSelected()) str+= &quot;ra&quot;;</span>
<span class="nc" id="L261">		mk.setOutResults(str);</span>
<span class="nc" id="L262">	}</span>

	/**
	 * This method initializes jPanel	
	 * 	
	 * @return javax.swing.JPanel	
	 */
	private JPanel getJPanel() {
<span class="nc bnc" id="L270" title="All 2 branches missed.">		if (jPanel == null) {</span>
<span class="nc" id="L271">			jPanel = new JPanel();</span>
<span class="nc" id="L272">			jPanel.setLayout(null);</span>
<span class="nc" id="L273">			jPanel.setBounds(new Rectangle(14, 82, 383, 190));</span>
<span class="nc" id="L274">			jPanel.setBorder(BorderFactory.createTitledBorder(BorderFactory.createLineBorder(SystemColor.controlDkShadow, 1), &quot;Available Statistic Results&quot;, TitledBorder.CENTER, TitledBorder.DEFAULT_POSITION, new Font(&quot;Dialog&quot;, Font.BOLD, 12), SystemColor.controlDkShadow));</span>
<span class="nc" id="L275">			jPanel.add(getJChkJit(), null);</span>
<span class="nc" id="L276">			jPanel.add(getJChkQlngth(), null);</span>
<span class="nc" id="L277">			jPanel.add(getJChkMean(), null);</span>
<span class="nc" id="L278">			jPanel.add(getJChkThrBt(), null);</span>
<span class="nc" id="L279">			jPanel.add(getJChkTDel(), null);</span>
<span class="nc" id="L280">			jPanel.add(getJChkQDel(), null);</span>
<span class="nc" id="L281">			jPanel.add(getJChkMdel(), null);</span>
<span class="nc" id="L282">			jPanel.add(getJChkThrPkt(), null);</span>
<span class="nc" id="L283">			jPanel.add(getJChkRatts(), null);</span>
<span class="nc" id="L284">			jPanel.add(getJChkUtil(), null);</span>
		}
<span class="nc" id="L286">		return jPanel;</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>